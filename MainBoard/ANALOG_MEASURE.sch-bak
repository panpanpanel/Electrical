EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 5
Title "PanelIQ Main Board"
Date "2022-01-31"
Rev "0.1"
Comp "Drawn By: Thomas Beckley"
Comment1 "Checked By: "
Comment2 ""
Comment3 ""
Comment4 "E-001"
$EndDescr
$Sheet
S 2600 2450 1350 1200
U 61AF0728
F0 "LINE_VOLTAGE_MEASURE" 50
F1 "LINE_VOLTAGE_MEASURE.sch" 50
F2 "LINE_ADC" I R 3950 2750 50 
F3 "LINE_PHASE" I R 3950 3000 50 
$EndSheet
$Sheet
S 2600 4350 1350 1200
U 61AF79C2
F0 "CURRENT_MEASURE" 50
F1 "CURRENT_MEASURE.sch" 50
F2 "MUX_SELECT" I R 3950 4750 50 
F3 "CUR_PHASE" I R 3950 5000 49 
F4 "CLR_CURRENT" I R 3950 5250 50 
F5 "CUR_VAL" I R 3950 4500 50 
$EndSheet
$Comp
L Analog_ADC:MCP3204 U?
U 1 1 61B406BC
P 7150 4500
F 0 "U?" H 7600 4950 50  0000 C CNN
F 1 "MCP3204" H 7450 4850 50  0000 C CNN
F 2 "" H 8050 4200 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/21298c.pdf" H 8050 4200 50  0001 C CNN
	1    7150 4500
	1    0    0    -1  
$EndComp
Text HLabel 4550 3000 2    50   Input ~ 0
LINE_PHASE
Wire Wire Line
	3950 3000 4550 3000
$Comp
L power:+3V3 #PWR?
U 1 1 61B6652A
P 7150 3150
F 0 "#PWR?" H 7150 3000 50  0001 C CNN
F 1 "+3V3" H 7165 3323 50  0000 C CNN
F 2 "" H 7150 3150 50  0001 C CNN
F 3 "" H 7150 3150 50  0001 C CNN
	1    7150 3150
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 61B6E493
P 6450 2850
AR Path="/61B6E493" Ref="R?"  Part="1" 
AR Path="/61B594A8/61B6E493" Ref="R?"  Part="1" 
AR Path="/627CF802/61AF0728/61B6E493" Ref="R?"  Part="1" 
AR Path="/627CF802/61B6E493" Ref="R?"  Part="1" 
F 0 "R?" H 6600 2800 50  0000 R CNN
F 1 "68" H 6600 2900 50  0000 R CNN
F 2 "" V 6380 2850 50  0001 C CNN
F 3 "~" H 6450 2850 50  0001 C CNN
	1    6450 2850
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61B72BE9
P 6450 3900
AR Path="/627CF802/61AF0728/61B72BE9" Ref="#PWR?"  Part="1" 
AR Path="/627CF802/61B72BE9" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 6450 3650 50  0001 C CNN
F 1 "GND" H 6455 3727 50  0000 C CNN
F 2 "" H 6450 3900 50  0001 C CNN
F 3 "" H 6450 3900 50  0001 C CNN
	1    6450 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	6450 3900 6450 3700
$Comp
L power:GND #PWR?
U 1 1 61B7B449
P 7050 5200
AR Path="/627CF802/61AF0728/61B7B449" Ref="#PWR?"  Part="1" 
AR Path="/627CF802/61B7B449" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 7050 4950 50  0001 C CNN
F 1 "GND" H 7055 5027 50  0000 C CNN
F 2 "" H 7050 5200 50  0001 C CNN
F 3 "" H 7050 5200 50  0001 C CNN
	1    7050 5200
	1    0    0    -1  
$EndComp
Wire Wire Line
	7050 5200 7050 5100
Wire Wire Line
	7150 5000 7150 5100
Wire Wire Line
	7150 5100 7050 5100
Connection ~ 7050 5100
Wire Wire Line
	7050 5100 7050 5000
NoConn ~ 6550 4600
NoConn ~ 6550 4700
Wire Wire Line
	7750 4400 8250 4400
Wire Wire Line
	7750 4500 8250 4500
Wire Wire Line
	7750 4600 8250 4600
Wire Wire Line
	7750 4700 8250 4700
Entry Wire Line
	8250 4400 8350 4500
Entry Wire Line
	8250 4500 8350 4600
Entry Wire Line
	8250 4600 8350 4700
Entry Wire Line
	8250 4700 8350 4800
Wire Bus Line
	8350 4900 8550 4900
Text HLabel 8550 4900 2    50   Input ~ 0
SPI
Text Label 8250 4600 2    50   ~ 0
DIN
Text Label 8250 4700 2    50   ~ 0
CS_ADC
Text Label 8250 4500 2    50   ~ 0
DOUT
Text Label 8250 4400 2    50   ~ 0
CLK
Text Notes 550  7700 0    200  ~ 40
NOT FOR MANUFACTURE
Wire Bus Line
	4250 4750 3950 4750
Text HLabel 4250 5000 2    50   Input ~ 0
CUR_PHASE
Wire Wire Line
	3950 5000 4250 5000
Text HLabel 4250 5250 2    50   Input ~ 0
CUR_PHASE
Wire Wire Line
	3950 5250 4250 5250
$Comp
L Device:D_Zener D?
U 1 1 623C29A2
P 6450 3450
AR Path="/627CF802/61AF0728/623C29A2" Ref="D?"  Part="1" 
AR Path="/627CF802/623C29A2" Ref="D?"  Part="1" 
F 0 "D?" V 6400 3650 50  0000 R CNN
F 1 "1N750" V 6500 3800 50  0000 R CNN
F 2 "" H 6450 3450 50  0001 C CNN
F 3 "~" H 6450 3450 50  0001 C CNN
	1    6450 3450
	0    -1   1    0   
$EndComp
Wire Wire Line
	6450 3600 6450 3700
Connection ~ 6450 3700
Wire Wire Line
	6450 3300 6450 3200
$Comp
L power:+6V #PWR?
U 1 1 623C7C00
P 6450 2550
F 0 "#PWR?" H 6450 2400 50  0001 C CNN
F 1 "+6V" H 6465 2723 50  0000 C CNN
F 2 "" H 6450 2550 50  0001 C CNN
F 3 "" H 6450 2550 50  0001 C CNN
	1    6450 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	6450 2550 6450 2700
$Comp
L Device:R R?
U 1 1 623CD122
P 6750 3200
F 0 "R?" V 6543 3200 50  0000 C CNN
F 1 "4k7" V 6634 3200 50  0000 C CNN
F 2 "" V 6680 3200 50  0001 C CNN
F 3 "~" H 6750 3200 50  0001 C CNN
	1    6750 3200
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 623CE515
P 6750 3700
F 0 "R?" V 6543 3700 50  0000 C CNN
F 1 "10k" V 6634 3700 50  0000 C CNN
F 2 "" V 6680 3700 50  0001 C CNN
F 3 "~" H 6750 3700 50  0001 C CNN
	1    6750 3700
	0    1    1    0   
$EndComp
Wire Wire Line
	7050 3700 7050 4100
Wire Wire Line
	6900 3700 7050 3700
Wire Wire Line
	6450 3200 6600 3200
Connection ~ 6450 3200
Wire Wire Line
	6450 3200 6450 3000
Wire Wire Line
	6450 3700 6600 3700
Wire Wire Line
	7050 3700 7050 3200
Wire Wire Line
	7050 3200 6900 3200
Connection ~ 7050 3700
Text Notes 6550 3900 0    50   ~ 0
VREF = 3V
Text HLabel 4250 4750 2    50   Input ~ 0
MUX_SELECT
Wire Wire Line
	3950 2750 5350 2750
Wire Wire Line
	5350 2750 5350 4400
Wire Wire Line
	5350 4400 6550 4400
Wire Wire Line
	3950 4500 6550 4500
$Comp
L Device:C C?
U 1 1 6292546E
P 7400 3550
AR Path="/6292546E" Ref="C?"  Part="1" 
AR Path="/627CF802/6292546E" Ref="C?"  Part="1" 
F 0 "C?" V 7148 3550 50  0000 C CNN
F 1 "0.1uF" V 7239 3550 50  0000 C CNN
F 2 "" H 7438 3400 50  0001 C CNN
F 3 "~" H 7400 3550 50  0001 C CNN
	1    7400 3550
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 6292D631
P 7700 3700
AR Path="/627CF802/61AF0728/6292D631" Ref="#PWR?"  Part="1" 
AR Path="/627CF802/6292D631" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 7700 3450 50  0001 C CNN
F 1 "GND" H 7705 3527 50  0000 C CNN
F 2 "" H 7700 3700 50  0001 C CNN
F 3 "" H 7700 3700 50  0001 C CNN
	1    7700 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7550 3550 7700 3550
Wire Wire Line
	7700 3550 7700 3700
Wire Wire Line
	7150 3150 7150 3550
Wire Wire Line
	7250 3550 7150 3550
Connection ~ 7150 3550
Wire Wire Line
	7150 3550 7150 4100
Wire Bus Line
	8350 4500 8350 4900
$EndSCHEMATC
